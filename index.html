<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>RA con AR.js - Video de YouTube</title>
  <!-- Incluye la última versión de A-Frame y AR.js desde el CDN -->
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.min.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
  <!-- Escenario de Realidad Aumentada -->
  <a-scene embedded arjs="sourceType: webcam;">
    <!-- Marcador de Imagen .patt -->
    <a-marker type="pattern" url="./pattern-73d449d5ef5baf39efe16c091b8d7ced.patt" id="videoMarker">
      <!-- Caja de señal visual -->
      <a-box position="0 0.5 0" material="color: red;" scale="0.5 0.5 0.5"></a-box>
      <!-- Texto indicador -->
      <a-text value="Haz clic para ver video" position="0 1 0" scale="0.8 0.8 0.8" color="#FFF"></a-text>
    </a-marker>

    <!-- Cámara para RA -->
    <a-entity camera></a-entity>
  </a-scene>

  <!-- Script para eventos del marcador -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Obtén el elemento del marcador
      const marker = document.querySelector("#videoMarker");

      // Verifica que el marcador esté disponible
      if (marker) {
        // Evento cuando se detecta el marcador
        marker.addEventListener("markerFound", () => {
          console.log("¡Marcador detectado! Abriendo video...");
          // Redirige al video en lugar de abrir una nueva ventana
          window.location.href = "https://www.youtube.com/watch?v=Z-jeDqVI1po";
        });

        // Evento cuando se pierde el marcador
        marker.addEventListener("markerLost", () => {
          console.log("Marcador perdido.");
        });
      } else {
        console.warn("No se encontró el marcador. Verifica el archivo .patt y el selector del marcador.");
      }
    });
  </script>
</body>
</html>
